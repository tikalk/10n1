"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{73682:function(e,i,n){var l=n(37328),a=n(50930),d=n(52322),r=n(2784),s=n(49966),o=n(67465),t=n(13741),c=n(73941),u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=Array(47).fill(null).map((function(e,i){return i%2===0?"".concat(i/2+1,":00"):"".concat(Math.floor(i/2+1),":30")})),h=function(e){var i=e.day,n=e.days,l=e.setDays,c=e.i,u=e.change,h=e.defaultChecked,x=(0,r.useState)("9:00"),v=x[0],p=x[1],f=(0,r.useState)("10:00"),Z=f[0],j=f[1],y=(0,r.useState)(h),g=y[0],b=y[1];return(0,r.useEffect)((function(){u("day-".concat(i,"-").concat(c),g?"add":"remove",i,v,Z)}),[g,v,Z]),(0,r.useEffect)((function(){j(m[m.indexOf(v)+2])}),[v,Z]),(0,d.jsxs)(s.Z,{noGutters:!0,className:"d-flex align-items-center mb-2",children:[(0,d.jsx)(o.Z,{md:1,className:"d-flex align-items-center",children:(0,d.jsx)(t.Z,{type:"checkbox",className:"ml-2",checked:g,onChange:function(){return b(!g)}})}),(0,d.jsx)(o.Z,{md:2,children:i}),(0,d.jsxs)(o.Z,{md:3,className:"d-flex align-items-center pl-3",children:["from:",(0,d.jsx)(t.Z,{type:"select",defaultValue:v,className:"mx-1",onChange:function(e){p(e.target.value)},children:m.map((function(e){return(0,d.jsx)("option",{children:e},"hours".concat(e))}))})]}),(0,d.jsxs)(o.Z,{md:3,className:"d-flex align-items-center pl-4",children:["to:",(0,d.jsx)(t.Z,{type:"select",value:Z,className:"mx-1",onChange:function(e){j(e.target.value)},children:m.map((function(e,i){return(0,d.jsx)("option",{disabled:i<=m.indexOf(v),children:e},"hours".concat(e))}))})]}),(0,d.jsx)(o.Z,{md:3,className:"text-right",children:(0,d.jsx)("a",{href:"#/",onClick:function(e){e.preventDefault();var d=(0,a.Z)(n);d.splice(c,0,i),l(d)},children:"Add another slot >"})})]})},x=function(e){var i=e.day,n=e.change;return(0,d.jsxs)(c.Z,{color:"info",style:{cursor:"pointer"},onClick:function(){return n(i.key,"remove",i.day,i.startTime,i.endTime)},className:"mr-3",children:[(0,d.jsx)("span",{className:"mx-2",children:"X"}),"\ud83d\udcc5 ",i.day," - ",i.startTime," - ",i.endTime]})};i.Z=function(e){var i=e.onChange,n=e.values,a=(0,r.useState)(u),s=a[0],o=a[1],t=(0,r.useState)({}),c=t[0],m=t[1],v=(0,r.useCallback)((function(e,n,a,d,r){var s={day:a,startTime:d,endTime:r,key:e},o=(0,l.Z)({},c);"add"===n?o[e]=s:delete o[e],m(o),i(Object.values(o))}),[c]);return(0,d.jsxs)(d.Fragment,{children:[s.map((function(e,i){return(0,d.jsx)(h,{day:e,days:s,setDays:o,i:i,change:v},"day-".concat(e,"-").concat(i))})),(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsx)("p",{className:"font-weight-bold",children:"Selected slots:"}),n.map((function(e,i){return(0,d.jsx)(x,{day:e,change:v},"Checkeday-".concat(e.day,"-").concat(i))}))]})]})}},70345:function(e,i,n){n.r(i);var l=n(37328),a=n(96670),d=n(66383),r=n(50930),s=n(52322),o=n(2784),t=n(36719),c=n(49966),u=n(67465),m=n(82883),h=n(20613),x=n(57811),v=n(71587),p=n(69985),f=n(13741),Z=n(70383),j=n(77122),y=n(63602),g=n(33892),b=n(50319),N=n(73359),C=n(76635),k=n.n(C),T=n(24511),E=n(5632),q=n(73682),_=n(91644),S=n(74845),F=n(66846),R=n(80876),w=n(90395),D=T.Ry().shape({name:T.Z_().min(2,"To short!").max(50,"To long!").required("Required!"),phone:T.Z_().min(7,"To short!").max(15,"To long!").required("Required!"),email:T.Z_().email("Invalid email").required("Required!"),bio:T.Z_(),expertise:T.IX().min(1,"Minimum 1 expertise").required("Required!"),availability:T.IX().of(T.Ry({day:T.Z_(),startTime:T.Z_(),endTime:T.Z_(),key:T.Z_()})).min(1,"Minimum 1 Availability").required("Required!")});i.default=function(){var e,i,n,C,T,P,V,A,M,O,I,X,z,B,Y,G,J,K,W,H=(0,o.useState)([]),L=H[0],Q=H[1],U=(0,d.Z)((0,b.D)(S.N),1)[0],$=(0,d.Z)((0,b.D)(S.J),1)[0],ee=(0,F.ZP)().userData,ie=(0,E.useRouter)(),ne=ie.query.email,le=(0,d.Z)((0,N.t)(R.TY,{variables:{email:ne}}),2),ae=le[0],de=le[1].data,re=(null===de||void 0===de?void 0:de.expert)||{},se=(0,y.TA)({initialValues:{name:(null===ee||void 0===ee?void 0:ee.name)||(null===re||void 0===re?void 0:re.name)||"",phone:(null===ee||void 0===ee?void 0:ee.phone)||(null===re||void 0===re?void 0:re.phone)||"",email:(null===ee||void 0===ee?void 0:ee.email)||(null===re||void 0===re?void 0:re.email)||"",bio:(null===re||void 0===re?void 0:re.bio)||"",image:(null===ee||void 0===ee?void 0:ee.image)||(null===re||void 0===re?void 0:re.image)||"",expertise:(null===re||void 0===re?void 0:re.expertise)||[],availability:(null===re||void 0===re?void 0:re.availability)||[]},enableReinitialize:!0,validationSchema:D,onSubmit:function(e){ne?$({variables:{input:(0,a.Z)((0,l.Z)({},e),{expertise:(0,r.Z)(e.expertise.map((function(e){return"object"===typeof e?k().pick(e,["name"]):{name:e}})))})}}).then((function(){ie.push("/experts/".concat(ne))})):U({variables:{input:(0,a.Z)((0,l.Z)({},e),{expertise:(0,r.Z)(e.expertise.map((function(e){return"object"===typeof e?k().pick(e,["name"]):{name:e}})))})}}).then((function(){ie.push("/")}))}});return(0,o.useEffect)((function(){ne&&ae()}),[ne]),(0,o.useEffect)((function(){var e=[];w.BV.forEach((function(i){e.push(i.name)})),Q(k().uniq(e))}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.Z,{title:"1 On 1 - Registration page"}),(0,s.jsx)(t.Z,{fluid:!0,children:(0,s.jsxs)(c.Z,{className:"mt-4",children:[(0,s.jsx)(u.Z,{md:3}),(0,s.jsx)(u.Z,{md:6,children:(0,s.jsx)(m.Z,{className:"p-3",children:(0,s.jsx)(h.Z,{children:(0,s.jsxs)(x.Z,{children:[(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(u.Z,{md:6,sm:12,children:(0,s.jsxs)(v.Z,{className:"d-flex flex-column",children:[(0,s.jsx)(p.Z,{for:"name",children:"Name:"}),(0,s.jsx)(f.Z,(0,l.Z)({type:"text",name:"name",id:"name",value:null===se||void 0===se||null===(e=se.values)||void 0===e?void 0:e.name,onChange:se.handleChange,placeholder:"Enter your name..."},se.getFieldProps("name"))),(null===(i=se.errors)||void 0===i?void 0:i.name)&&se.touched.name&&(0,s.jsx)(Z.Z,{children:null===(n=se.errors)||void 0===n?void 0:n.name})]})}),(0,s.jsx)(u.Z,{md:6,sm:12,children:(0,s.jsxs)(v.Z,{className:"d-flex flex-column",children:[(0,s.jsx)(p.Z,{for:"phone",children:"Phone #:"}),(0,s.jsx)(f.Z,(0,l.Z)({type:"tel",name:"phone",id:"phone",value:null===se||void 0===se||null===(C=se.values)||void 0===C?void 0:C.phone,onChange:se.handleChange,placeholder:"Enter your phone #..."},se.getFieldProps("phone"))),(null===(T=se.errors)||void 0===T?void 0:T.phone)&&se.touched.phone&&(0,s.jsx)(Z.Z,{children:null===(P=se.errors)||void 0===P?void 0:P.phone})]})})]}),(0,s.jsx)(c.Z,{children:(0,s.jsx)(u.Z,{md:12,children:(0,s.jsxs)(v.Z,{className:"d-flex flex-column",children:[(0,s.jsx)(p.Z,{for:"email",children:"Email:"}),(0,s.jsx)(f.Z,(0,l.Z)({type:"email",name:"email",id:"email",value:null===se||void 0===se||null===(V=se.values)||void 0===V?void 0:V.email,onChange:se.handleChange,placeholder:"Enter your email..."},se.getFieldProps("email"))),(null===(A=se.errors)||void 0===A?void 0:A.email)&&se.touched.email&&(0,s.jsx)(Z.Z,{children:null===(M=se.errors)||void 0===M?void 0:M.email})]})})}),(0,s.jsx)(c.Z,{children:(0,s.jsx)(u.Z,{md:12,children:(0,s.jsxs)(v.Z,{className:"d-flex flex-column",children:[(0,s.jsx)(p.Z,{for:"bio",children:"Bio:"}),(0,s.jsx)(f.Z,(0,l.Z)({type:"textarea",name:"bio",id:"bio",value:null===se||void 0===se||null===(O=se.values)||void 0===O?void 0:O.bio,onChange:se.handleChange},se.getFieldProps("bio")))]})})}),(0,s.jsx)(c.Z,{children:(0,s.jsx)(u.Z,{md:12,children:(0,s.jsxs)(v.Z,{className:"d-flex flex-column",children:[(0,s.jsx)(p.Z,{for:"expertise",children:"Expertise:"}),(0,s.jsx)(g.pY,{id:"expertise",name:"expertise",labelKey:"name",size:"large",multiple:!0,allowNew:!0,onChange:function(e){se.setFieldValue("expertise",e)},options:L,placeholder:"Choose several expertise...",selected:null!==(W=null===se||void 0===se||null===(I=se.values)||void 0===I?void 0:I.expertise)&&void 0!==W?W:[].map((function(e){return e.name})),className:(null===(X=se.errors)||void 0===X?void 0:X.expertise)&&se.touched.expertise?"border-danger border rounded":""}),(null===(z=se.errors)||void 0===z?void 0:z.expertise)&&(0,s.jsx)("div",{className:"text-danger",children:null===(B=se.errors)||void 0===B?void 0:B.expertise})]})})}),(0,s.jsx)(c.Z,{children:(0,s.jsxs)(u.Z,{md:12,children:[(0,s.jsxs)(v.Z,{className:(null===(Y=se.errors)||void 0===Y?void 0:Y.availability)&&se.touched.availability?"border-danger border rounded d-flex flex-column":"d-flex flex-column",children:[(0,s.jsx)(p.Z,{for:"availability",children:"Availability:"}),(0,s.jsx)(q.Z,{values:null===(G=se.values)||void 0===G?void 0:G.availability,onChange:function(e){se.setFieldValue("availability",e)}})]}),(null===(J=se.errors)||void 0===J?void 0:J.availability)&&(0,s.jsx)("div",{className:"text-danger",children:null===(K=se.errors)||void 0===K?void 0:K.availability})]})}),(0,s.jsx)(c.Z,{children:(0,s.jsx)(u.Z,{md:12,className:"d-flex justify-content-end ",children:(0,s.jsx)(j.Z,{color:"warning",onClick:se.submitForm,disabled:!se.isValid,children:"Edit"})})})]})})})})]})})]})}}}]);